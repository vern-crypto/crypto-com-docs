"use strict";(self.webpackChunkcrypto_com_docs=self.webpackChunkcrypto_com_docs||[]).push([[5689],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),u=r,h=d["".concat(s,".").concat(u)]||d[u]||m[u]||i;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9446:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const i={title:"Chrome Extension Wallet Integration",sidebar_position:20},o="Quick Start",l={unversionedId:"defi-wallet/integration",id:"defi-wallet/integration",title:"Chrome Extension Wallet Integration",description:"you can use our SDK to integrate our DeFiWallet(Chrome Extension & Mobile).",source:"@site/docs/defi-wallet/integration.md",sourceDirName:"defi-wallet",slug:"/defi-wallet/integration",permalink:"/crypto-com-docs/docs/defi-wallet/integration",draft:!1,editUrl:"https://github.com/vern-crypto/crypto-com-docs/tree/main/docs/defi-wallet/integration.md",tags:[],version:"current",sidebarPosition:20,frontMatter:{title:"Chrome Extension Wallet Integration",sidebar_position:20},sidebar:"defiWalletSidebar",previous:{title:"Installation",permalink:"/crypto-com-docs/docs/defi-wallet/web-sdk/Installation"},next:{title:"Chrome Extension Wallet Integration (Aptos)",permalink:"/crypto-com-docs/docs/defi-wallet/aptos-integration"}},s={},p=[{value:"Web3 Browser Detection",id:"web3-browser-detection",level:3},{value:"Properties",id:"properties",level:2},{value:"isDeficonnectProvider",id:"isdeficonnectprovider",level:3},{value:"connected",id:"connected",level:3},{value:"chainType",id:"chaintype",level:3},{value:"chainId",id:"chainid",level:3},{value:"networkVersion",id:"networkversion",level:3},{value:"accounts",id:"accounts",level:3},{value:"Methods",id:"methods",level:2},{value:"Events",id:"events",level:2},{value:"Errors",id:"errors",level:2},{value:"personal_sign",id:"personal_sign",level:2},{value:"eth_sign",id:"eth_sign",level:2},{value:"eth_signTypedData",id:"eth_signtypeddata",level:2},{value:"eth_sendTransaction",id:"eth_sendtransaction",level:2},{value:"eth_signTransaction",id:"eth_signtransaction",level:2},{value:"eth_sendRawTransaction",id:"eth_sendrawtransaction",level:2},{value:"wallet_addEthereumChain",id:"wallet_addethereumchain",level:2},{value:"Description",id:"description",level:3},{value:"wallet_switchEthereumChain",id:"wallet_switchethereumchain",level:2},{value:"cosmos_sendTransaction",id:"cosmos_sendtransaction",level:2}],c={toc:p};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"quick-start"},"Quick Start"),(0,r.kt)("p",null,"you can use our SDK to integrate our DeFiWallet(Chrome Extension & Mobile).\nmore detail: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/crypto-com/deficonnect-monorepo"},"deficonnect-monorepo"),"."),(0,r.kt)("p",null,"if you use ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/web3-react"},"web3-react"),", you only need integrate ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/crypto-com/deficonnect-monorepo/blob/develop/packages/web3-connector"},"@deficonnect/web3-connector"),", this package implement the ",(0,r.kt)("inlineCode",{parentName:"p"},"AbstractConnector")," from ",(0,r.kt)("inlineCode",{parentName:"p"},"web3-react"),"."),(0,r.kt)("p",null,"if not. you can import ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/crypto-com/deficonnect-monorepo/blob/develop/packages/provider"},"@deficonnect/provider"),". This package is used to help dapps connect to crypto.com wallet extension. Automatically detect the running environment, and proxy the method call to the provider."),(0,r.kt)("h1",{id:"basic-considerations"},"Basic Considerations"),(0,r.kt)("p",null,"Once Wallet Extension is installed and running, you should find that new browser tabs have a ",(0,r.kt)("inlineCode",{parentName:"p"},"window.deficonnectProvider")," object available in the developer console. This is how your website will interact with Wallet Extension."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Remark\uff1a\nYou also can find a window.ethereum object. If you not install other Wallet Extension, this will  interact with Crypto.com | Wallet Extension. If you install other like MetaMask, window.ethereum object will interact with MetaMask.")),(0,r.kt)("h3",{id:"web3-browser-detection"},"Web3 Browser Detection"),(0,r.kt)("p",null,"To verify if the browser is running ",(0,r.kt)("inlineCode",{parentName:"p"},"Crypto.com | Wallet Extension"),", copy and paste the code snippet below in the developer console of your web browser:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"if (typeof window.deficonnectProvider !== 'undefined') {\n  console.log('Crypto.com | Wallet Extension is installed!');\n}\n")),(0,r.kt)("p",null,"You can review the full API for the ",(0,r.kt)("inlineCode",{parentName:"p"},"window.deficonnectProvider")," object ",(0,r.kt)("a",{parentName:"p",href:"#deficonnectprovider-api"},"here"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Remark\uff1a\nbecause Chrome Extension ",(0,r.kt)("a",{parentName:"p",href:"https://developer.chrome.com/docs/extensions/mv3/"},"MV3")," load delay, you maybe need a timeout to detect ",(0,r.kt)("inlineCode",{parentName:"p"},"window.deficonnectProvider"))),(0,r.kt)("h1",{id:"deficonnectprovider-api"},"DeFiConnectProvider API"),(0,r.kt)("h2",{id:"properties"},"Properties"),(0,r.kt)("h3",{id:"isdeficonnectprovider"},"isDeficonnectProvider"),(0,r.kt)("p",null,"This property is non-standard."),(0,r.kt)("p",null,"true if the user has ",(0,r.kt)("inlineCode",{parentName:"p"},"Crypto.com | Wallet Extension")," installed"),(0,r.kt)("h3",{id:"connected"},"connected"),(0,r.kt)("p",null,"Returns ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," if the provider is connected to the current chain, and ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," otherwise."),(0,r.kt)("h3",{id:"chaintype"},"chainType"),(0,r.kt)("p",null,"represents the chainType where the current wallet is located.\ncurrently support 'eth' | 'cosmos'."),(0,r.kt)("p",null,"example:\nif use select ",(0,r.kt)("inlineCode",{parentName:"p"},"cronos")," ",(0,r.kt)("inlineCode",{parentName:"p"},"ethereum")," ",(0,r.kt)("inlineCode",{parentName:"p"},"ropsten")," or other evm like chain, the chainType will be ",(0,r.kt)("inlineCode",{parentName:"p"},"eth"),".\nif use select ",(0,r.kt)("inlineCode",{parentName:"p"},"crypto.org")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"cosmos"),", the chainType will be ",(0,r.kt)("inlineCode",{parentName:"p"},"cosmos"),"."),(0,r.kt)("h3",{id:"chainid"},"chainId"),(0,r.kt)("p",null,"if ",(0,r.kt)("inlineCode",{parentName:"p"},"chainType == 'eth'")," the chainId will be the Hex value for chainId:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Hex"),(0,r.kt)("th",{parentName:"tr",align:null},"Decimal"),(0,r.kt)("th",{parentName:"tr",align:null},"Network"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"0x1"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"Ethereum Main Network (Mainnet)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"0x3"),(0,r.kt)("td",{parentName:"tr",align:null},"3"),(0,r.kt)("td",{parentName:"tr",align:null},"Ropsten Test Network")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"0x4"),(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null},"Rinkeby Test Network")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"0x5"),(0,r.kt)("td",{parentName:"tr",align:null},"5"),(0,r.kt)("td",{parentName:"tr",align:null},"Goerli Test Network")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"0x2a"),(0,r.kt)("td",{parentName:"tr",align:null},"42"),(0,r.kt)("td",{parentName:"tr",align:null},"Kovan Test Network")))),(0,r.kt)("p",null,"if ",(0,r.kt)("inlineCode",{parentName:"p"},"chainType == 'cosmos'")," the chainId will be the value for chainId:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"chainId"),(0,r.kt)("th",{parentName:"tr",align:null},"Network"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"crypto-org-chain-mainnet-1"),(0,r.kt)("td",{parentName:"tr",align:null},"Crypto.org Main Network (Mainnet)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"cosmoshub-4"),(0,r.kt)("td",{parentName:"tr",align:null},"Cosmos Main Network")))),(0,r.kt)("h3",{id:"networkversion"},"networkVersion"),(0,r.kt)("p",null,"if ",(0,r.kt)("inlineCode",{parentName:"p"},"chainType == 'eth'")," the chainId will be the Decimal value for chainId.\nif ",(0,r.kt)("inlineCode",{parentName:"p"},"chainType == 'cosmos'")," the chainId will be same as chainId"),(0,r.kt)("h3",{id:"accounts"},"accounts"),(0,r.kt)("p",null,"current selected wallet address:"),(0,r.kt)("p",null,"for eth: ",(0,r.kt)("inlineCode",{parentName:"p"},"0x615D68f12e953F61725d4A1C0532719E3F74651E")),(0,r.kt)("p",null,"for Crypto.org or Csomos: ",(0,r.kt)("inlineCode",{parentName:"p"},"cro1kdk6vpf5d5qphyqy70rx05nklmypqk64ucn52p")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"cosmos15rkfcvw0qq85v79l6m6gfwz3an4e6zw9hnwcsd")),(0,r.kt)("h2",{id:"methods"},"Methods"),(0,r.kt)("p",null,"We have implemented all methods which defined in ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-1193"},"EIP-1193")),(0,r.kt)("h2",{id:"events"},"Events"),(0,r.kt)("p",null,"We have implemented all events which defined in ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-1193"},"EIP-1193")),(0,r.kt)("h2",{id:"errors"},"Errors"),(0,r.kt)("p",null,"All errors thrown or returned by the Crypto.com | Wallet Extension provider follow this interface:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"interface ProviderRpcError extends Error {\n  message: string;\n  code: number;\n  data?: unknown;\n}\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"ethereum.request(args)")," method throws errors eagerly. You can often use the error ",(0,r.kt)("inlineCode",{parentName:"p"},"code")," property to determine why the request failed. Common codes and their meaning include:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"4001"),"\nThe request was rejected by the user\n",(0,r.kt)("inlineCode",{parentName:"p"},"-32602"),"\nThe parameters were invalid\n",(0,r.kt)("inlineCode",{parentName:"p"},"-32603"),"\nInternal error\nFor the complete list of errors, please see ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-1193#provider-errors"},"EIP-1193")," and ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-1474#error-codes"},"EIP-1474"),"."),(0,r.kt)("h1",{id:"ethereum-rpc-api"},"Ethereum RPC API"),(0,r.kt)("h2",{id:"personal_sign"},"personal_sign"),(0,r.kt)("p",null,"The sign method calculates an Ethereum specific signature with:",(0,r.kt)("inlineCode",{parentName:"p"},'sign(keccak256("\\x19Ethereum Signed Message:\\n" + len(message) + message)))'),"."),(0,r.kt)("p",null,"By adding a prefix to the message makes the calculated signature recognisable as an Ethereum specific signature. This prevents misuse where a malicious DApp can sign arbitrary data ","(","e.g. transaction",")"," and use the signature to impersonate the victim."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note")," See ecRecover to verify the signature."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("p",null,"message, account"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"DATA"),", N Bytes - message to sign."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"DATA"),", 20 Bytes - address.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"DATA"),": Signature"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// Request\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "method": "personal_sign",\n  "params":["0xdeadbeaf","0x9b2055d370f73ec7d8a03e965129118dc8f5bf83"],\n}\n\n// Result\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "result": "0xa3f20717a250c2b0b729b7e5becbff67fdaef7e0699da4de7ca5895b02a170a12d887fd3b17bfdce3481f10bea41f45ba9f709d39ce8325427b57afcfc994cee1b"\n}\n')),(0,r.kt)("h2",{id:"eth_sign"},"eth_sign"),(0,r.kt)("p",null,"The sign method calculates an Ethereum specific signature with: ",(0,r.kt)("inlineCode",{parentName:"p"},'sign(keccak256("\\x19Ethereum Signed Message:\\n" + len(message) + message)))'),"."),(0,r.kt)("p",null,"By adding a prefix to the message makes the calculated signature recognisable as an Ethereum specific signature. This prevents misuse where a malicious DApp can sign arbitrary data ","(","e.g. transaction",")"," and use the signature to impersonate the victim."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note")," the address to sign with must be unlocked."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("p",null,"account, message"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"DATA"),", 20 Bytes - address."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"DATA"),", N Bytes - message to sign.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"DATA"),": Signature"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// Request\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "method": "eth_sign",\n  "params": ["0x9b2055d370f73ec7d8a03e965129118dc8f5bf83", "0xdeadbeaf"],\n}\n\n\n// Result\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "result": "0xa3f20717a250c2b0b729b7e5becbff67fdaef7e0699da4de7ca5895b02a170a12d887fd3b17bfdce3481f10bea41f45ba9f709d39ce8325427b57afcfc994cee1b"\n}\n')),(0,r.kt)("p",null,"An example how to use solidity ecrecover to verify the signature calculated with ",(0,r.kt)("inlineCode",{parentName:"p"},"eth_sign")," can be found ",(0,r.kt)("a",{parentName:"p",href:"https://gist.github.com/bas-vk/d46d83da2b2b4721efb0907aecdb7ebd"},"here"),". The contract is deployed on the testnet Ropsten and Rinkeby."),(0,r.kt)("h2",{id:"eth_signtypeddata"},"eth_signTypedData"),(0,r.kt)("p",null,"Calculates an Ethereum-specific signature in the form of ",(0,r.kt)("inlineCode",{parentName:"p"},'keccak256("\\x19Ethereum Signed Message:\\n" + len(message) + message))')),(0,r.kt)("p",null,"By adding a prefix to the message makes the calculated signature recognisable as an Ethereum specific signature. This prevents misuse where a malicious DApp can sign arbitrary data ","(","e.g. transaction",")"," and use the signature to impersonate the victim."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note")," the address to sign with must be unlocked."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("p",null,"account, message"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"DATA"),", 20 Bytes - address."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"DATA"),", N Bytes - message to sign containing type information, a domain separator, and data")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")," Parameters"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'[\n  "0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826",\n  {\n    types: {\n      EIP712Domain: [\n        {\n          name: "name",\n          type: "string",\n        },\n        {\n          name: "version",\n          type: "string",\n        },\n        {\n          name: "chainId",\n          type: "uint256",\n        },\n        {\n          name: "verifyingContract",\n          type: "address",\n        },\n      ],\n      Person: [\n        {\n          name: "name",\n          type: "string",\n        },\n        {\n          name: "wallet",\n          type: "address",\n        },\n      ],\n      Mail: [\n        {\n          name: "from",\n          type: "Person",\n        },\n        {\n          name: "to",\n          type: "Person",\n        },\n        {\n          name: "contents",\n          type: "string",\n        },\n      ],\n    },\n    primaryType: "Mail",\n    domain: {\n      name: "Ether Mail",\n      version: "1",\n      chainId: 1,\n      verifyingContract: "0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC",\n    },\n    message: {\n      from: {\n        name: "Cow",\n        wallet: "0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826",\n      },\n      to: {\n        name: "Bob",\n        wallet: "0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB",\n      },\n      contents: "Hello, Bob!",\n    },\n  },\n];\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"DATA"),": Signature"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// Request\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "method": "eth_signTypedData",\n  "params": ["0x9b2055d370f73ec7d8a03e965129118dc8f5bf83", {see above}],\n}\n\'\n\n// Result\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "result": "0x4355c47d63924e8a72e509b65029052eb6c299d53a04e167c5775fd466751c9d07299936d304c153f6443dfa05f40ff007d72911b6f72307f996231605b915621c"\n}\n')),(0,r.kt)("h2",{id:"eth_sendtransaction"},"eth_sendTransaction"),(0,r.kt)("p",null,"Creates new message call transaction or a contract creation, if the data field contains code."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"Object")," - The transaction object"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"from"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"DATA"),", 20 Bytes - The address the transaction is send from."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"to"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"DATA"),", 20 Bytes - ","(","optional when creating new contract",")"," The address the transaction is directed to."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"data"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"DATA")," - The compiled code of a contract OR the hash of the invoked method signature and encoded parameters. For details see ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ethereum/wiki/wiki/Ethereum-Contract-ABI"},"Ethereum Contract ABI")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"gas"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"QUANTITY")," - ","(","optional",")"," Integer of the gas provided for the transaction execution. It will return unused gas."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"gasPrice"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"QUANTITY")," - ","(","optional, default: To-Be-Determined",")"," Integer of the gasPrice used for each paid gas"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"value"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"QUANTITY")," - ","(","optional",")"," Integer of the value sent with this transaction"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"nonce"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"QUANTITY")," - ","(","optional",")"," Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")," Parameters"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'[\n  {\n    from: "0xb60e8dd61c5d32be8058bb8eb970870f07233155",\n    to: "0xd46e8dd67c5d32be8058bb8eb970870f07244567",\n    data:\n      "0xd46e8dd67c5d32be8d46e8dd67c5d32be8058bb8eb970870f072445675058bb8eb970870f072445675",\n    gas: "0x76c0", // 30400\n    gasPrice: "0x9184e72a000", // 10000000000000\n    value: "0x9184e72a", // 2441406250\n    nonce: "0x117", // 279\n  },\n];\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"DATA"),", 32 Bytes - the transaction hash, or the zero hash if the transaction is not yet available."),(0,r.kt)("p",null,"Use ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_gettransactionreceipt"},"eth_getTransactionReceipt")," to get the contract address, after the transaction was mined, when you created a contract."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// Request\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "method": "eth_sendTransaction",\n  "params":[{see above}],\n}\n\n// Result\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "result": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331"\n}\n')),(0,r.kt)("h2",{id:"eth_signtransaction"},"eth_signTransaction"),(0,r.kt)("p",null,"Signs a transaction that can be submitted to the network at a later time using with ",(0,r.kt)("inlineCode",{parentName:"p"},"eth_sendRawTransaction")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"Object")," - The transaction object"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"from"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"DATA"),", 20 Bytes - The address the transaction is send from."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"to"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"DATA"),", 20 Bytes - ","(","optional when creating new contract",")"," The address the transaction is directed to."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"data"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"DATA")," - The compiled code of a contract OR the hash of the invoked method signature and encoded parameters. For details see ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ethereum/wiki/wiki/Ethereum-Contract-ABI"},"Ethereum Contract ABI")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"gas"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"QUANTITY")," - ","(","optional",")"," Integer of the gas provided for the transaction execution. It will return unused gas."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"gasPrice"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"QUANTITY")," - ","(","optional, default: To-Be-Determined",")"," Integer of the gasPrice used for each paid gas"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"value"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"QUANTITY")," - ","(","optional",")"," Integer of the value sent with this transaction"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"nonce"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"QUANTITY")," - ","(","optional",")"," Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")," Parameters"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'[\n  {\n    from: "0xb60e8dd61c5d32be8058bb8eb970870f07233155",\n    to: "0xd46e8dd67c5d32be8058bb8eb970870f07244567",\n    data:\n      "0xd46e8dd67c5d32be8d46e8dd67c5d32be8058bb8eb970870f072445675058bb8eb970870f072445675",\n    gas: "0x76c0", // 30400\n    gasPrice: "0x9184e72a000", // 10000000000000\n    value: "0x9184e72a", // 2441406250\n    nonce: "0x117", // 279\n  },\n];\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"DATA")," - the signed transaction data"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// Request\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "method": "eth_signTransaction",\n  "params":[{see above}],\n}\n\n// Result\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "result": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331"\n}\n')),(0,r.kt)("h2",{id:"eth_sendrawtransaction"},"eth_sendRawTransaction"),(0,r.kt)("p",null,"Creates new message call transaction or a contract creation for signed transactions."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"DATA"),", the signed transaction data.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"DATA"),", 32 Bytes - the transaction hash, or the zero hash if the transaction is not yet available."),(0,r.kt)("p",null,"Use ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_gettransactionreceipt"},"eth_getTransactionReceipt")," to get the contract address, after the transaction was mined, when you created a contract."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// Request\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "method": "eth_sendRawTransaction",\n  "params":[\n    "0xd46e8dd67c5d32be8d46e8dd67c5d32be8058bb8eb970870f072445675058bb8eb970870f07244567"\n  ],\n}\n\n// Result\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "result": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331"\n}\n')),(0,r.kt)("h2",{id:"wallet_addethereumchain"},"wallet_addEthereumChain"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"This method is specified by ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-3085"},"EIP-3085"),".")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("p",null,"interface AddEthereumChainParameter {\nchainId: string; // A 0x-prefixed hexadecimal string\nchainName: string;\nnativeCurrency: {\nname: string;\nsymbol: string; // 2-6 characters long\ndecimals: 18;\n};\nrpcUrls: string[];\nblockExplorerUrls?: string[];\niconUrls?: string[]; // Currently ignored.\n}\n",(0,r.kt)("strong",{parentName:"p"},"Returns"),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"null")," - The method returns null if the request was successful, and an error otherwise."),(0,r.kt)("h3",{id:"description"},"Description"),(0,r.kt)("p",null,"Creates a confirmation asking the user to add the specified chain to Wallet. The user may choose to switch to the chain once it has been added."),(0,r.kt)("p",null,"As with any method that causes a confirmation to appear, wallet_addEthereumChain should only be called as a result of direct user action, such as the click of a button."),(0,r.kt)("p",null,"Wallet stringently validates the parameters for this method, and will reject the request if any parameter is incorrectly formatted. In addition, Wallet will automatically reject the request under the following circumstances:"),(0,r.kt)("p",null,"If the RPC endpoint doesn't respond to RPC calls.\nIf the RPC endpoint returns a different chain ID when eth_chainId is called.\nIf the chain ID corresponds to any default Wallet chains.\nWallet does not yet support chains with native currencies that do not have 18 decimals, but may do so in the future."),(0,r.kt)("h2",{id:"wallet_switchethereumchain"},"wallet_switchEthereumChain"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"This method is specified by ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-3326"},"EIP-3326"),".")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"about the chain that Wallet will switch to.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"null - The method returns null if the request was successful, and an error otherwise.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// Request\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "method": "wallet_switchEthereumChain",\n  "params":[\n    {\n      chainId: \'0x1\'\n    }\n  ],\n}\n\n// Result\n{\n  "id": 1,\n  "jsonrpc": "2.0",\n  "result": null,\n}\n')),(0,r.kt)("h1",{id:"cosmos-rpc-api"},"Cosmos RPC API"),(0,r.kt)("h2",{id:"cosmos_sendtransaction"},"cosmos_sendTransaction"),(0,r.kt)("p",null,"IBC request demo"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "id":1633401844820623,\n    "jsonrpc":"2.1",\n    "method":"cosmos_sendTransaction",\n    "params":[\n        {\n            "signerAddress":"tcro1sqkt6egk7pgjt7deh52truhfvhznagc7tdqmuj",\n            "signDoc":{\n                "chainId":"testnet-croeseid-4",\n                "accountNumber":"693",\n                "body":{\n                    "messages":[\n                        {\n                            "typeUrl": "/cosmos.bank.v1beta1.MsgSend",\n                 "value": {\n                "fromAddress": "senderAddress",\n                "toAddress": "recipientAddress",\n                "amount": [...amount],\n                  },\n                        }\n                    ],\n                    "memo":"",\n                    "timeoutHeight":"0",\n                    "extensionOptions":[\n\n                    ],\n                    "nonCriticalExtensionOptions":[\n\n                    ]\n                },\n                "authInfo":{\n                    "signerInfos":[\n                        {\n                            "publicKey":{\n                                "typeUrl":"/cosmos.crypto.secp256k1.PubKey",\n                                "value":"CiECXrin6CVU1nVW7m4wbHZq8m5uepUEeqtkavjoha7A1vo="\n                            },\n                            "modeInfo":{\n                                "single":{\n                                    "mode":"SIGN_MODE_DIRECT"\n                                }\n                            },\n                            "sequence":"6"\n                        }\n                    ],\n                    "fee":{\n                        "amount":[{\n                          "denom": "",\n                          "amount": ""\n                        }],\n                        "gasLimit":"120000",\n                        "payer":"",\n                        "granter":""\n                    }\n                }\n            }\n        }\n    ],\n}\n')),(0,r.kt)("p",null,"response demo for the cosmos_sendTransaction request:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": xxx,\n  "jsonrpc": \'2.1\',\n  "result": "CsUBCsIBCikvaWJjLmFwcGxpY2F0aW9ucy50cmFuc2Zlci52MS5Nc2dUcmFuc2ZlchKUAQoIdHJhbnNmZXISC2NoYW5uZWwtMTI5GhUKCGJhc2V0Y3JvEgkxMDAwMDAwMDAiK3Rjcm8xc3FrdDZlZ2s3cGdqdDdkZWg1MnRydWhmdmh6bmFnYzd0ZHFtdWoqK3RjcmMxc3l5cTVsNWVyMHhhbXc1dnl2cDJ3cjY5NjY3bmR4NDQ5OHQ2YTUyADiA2Lbbz7jO1hYSawpQCkYKHy9jb3Ntb3MuY3J5cHRvLnNlY3AyNTZrMS5QdWJLZXkSIwohAl64p+glVNZ1Vu5uMGx2avJubnqVBHqrZGr46IWuwNb6EgQKAggBGBwSFwoRCghiYXNldGNybxIFMjAwMDAQwKkHGkAHTBUrbrFZL2zT0p8sIDn5TEVnnAFnf08fvWkDOexO/zGDLkB62OJPL7rNO82lNLLTI/cgDhr5PD6xM3CLbt/X" // RawTx base64 encode\n}\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"you can use this package to easier support cosmos chain ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/crypto-com/deficonnect-monorepo/tree/develop/packages/cosmos-signer"},"@deficonnect/cosmos-signer"))))}d.isMDXComponent=!0}}]);